@using Microsoft.AspNet.Identity
@using System.Security.Claims

@{
    // Prefer FullName claim; fall back to username/email
    var fullName = (User as ClaimsPrincipal)?.FindFirst("FullName")?.Value
                   ?? User.Identity.GetUserName();
}

@if (Request.IsAuthenticated)
{
    @* Right-aligned, compact, outline button for logoff *@
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "d-flex align-items-center gap-2" }))
    {
        @Html.AntiForgeryToken()
        <span class="text-muted small d-none d-md-inline">Hello, @fullName!</span>
        <button type="submit" class="btn btn-sm btn-outline-secondary">Log off</button>
    }
}
else
{
    @* Right-aligned auth buttons: outline Login + primary Sign Up *@
    <div class="d-flex align-items-center gap-2">
        <a id="loginLink" class="btn btn-sm btn-outline-secondary" href="@Url.Action("Login","Account")">Login</a>
        <a id="registerLink" class="btn btn-sm btn-primary" href="@Url.Action("Register","Account")">Sign Up</a>
    </div>
}
